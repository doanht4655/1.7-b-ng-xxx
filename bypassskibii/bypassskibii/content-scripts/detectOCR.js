var detectocr=function(){"use strict";function E(e){return e}const g={matches:["<all_urls>"],allFrames:!0,async main(){function e(r){if(r.querySelector(".custom-button"))return;const i=document.createElement("button");i.textContent="Click Me",i.className="custom-button",i.style.marginLeft="10px",i.style.padding="5px 10px",i.style.backgroundColor="#007BFF",i.style.color="white",i.style.border="none",i.style.borderRadius="5px",i.style.cursor="pointer",i.addEventListener("click",()=>{alert("Added"),console.log("Button clickead")}),r.appendChild(i)}function t(r){new MutationObserver(o=>{o.forEach(b=>{b.addedNodes.forEach(s=>{if(s.nodeType===1){s.matches(".mtcap-image")&&(console.log("Captcha element detected:",s),e(s));const h=s.querySelector(".mtcap-image");h&&(console.log("Captcha element detected inside added node:",h),e(h))}})})}).observe(r.body,{childList:!0,subtree:!0})}function n(){t(document),document.querySelectorAll("iframe").forEach(i=>{try{const o=i.contentDocument||i.contentWindow.document;t(o)}catch{console.log("Cannot access iframe content due to cross-origin restrictions:",i)}})}document.addEventListener("DOMContentLoaded",n)}},m=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function a(e,...t){}const f={debug:(...e)=>a(console.debug,...e),log:(...e)=>a(console.log,...e),warn:(...e)=>a(console.warn,...e),error:(...e)=>a(console.error,...e)};class d extends Event{constructor(t,n){super(d.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=n}static EVENT_NAME=u("wxt:locationchange")}function u(e){return`${m?.runtime?.id}:detectOCR:${e}`}function p(e){let t,n;return{run(){t==null&&(n=new URL(location.href),t=e.setInterval(()=>{let r=new URL(location.href);r.href!==n.href&&(window.dispatchEvent(new d(r,n)),n=r)},1e3))}}}class c{constructor(t,n){this.contentScriptName=t,this.options=n,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=u("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=p(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return m.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,n){const r=setInterval(()=>{this.isValid&&t()},n);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,n){const r=setTimeout(()=>{this.isValid&&t()},n);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const n=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(n)),n}requestIdleCallback(t,n){const r=requestIdleCallback((...i)=>{this.signal.aborted||t(...i)},n);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,n,r,i){n==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(n.startsWith("wxt:")?u(n):n,r,{...i,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),f.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:c.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const n=t.data?.type===c.SCRIPT_STARTED_MESSAGE_TYPE,r=t.data?.contentScriptName===this.contentScriptName,i=!this.receivedMessageIds.has(t.data?.messageId);return n&&r&&i}listenForNewerScripts(t){let n=!0;const r=i=>{if(this.verifyScriptStartedEvent(i)){this.receivedMessageIds.add(i.data.messageId);const o=n;if(n=!1,o&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}function S(){}function l(e,...t){}const v={debug:(...e)=>l(console.debug,...e),log:(...e)=>l(console.log,...e),warn:(...e)=>l(console.warn,...e),error:(...e)=>l(console.error,...e)};return(async()=>{try{const{main:e,...t}=g,n=new c("detectOCR",t);return await e(n)}catch(e){throw v.error('The content script "detectOCR" crashed on startup!',e),e}})()}();
detectocr;
